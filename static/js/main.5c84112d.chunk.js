(this.webpackJsonpsfp=this.webpackJsonpsfp||[]).push([[0],{96:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),r=c(28),a=c.n(r),o=c(26),l=c(11),i=c(8),d=c(4),u=c.n(d),j=c(6),b=c(9),h=c(100),p=c(17),x=c.n(p),O="http://localhost:8000",m=function(){var e=Object(j.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(O,"/auth/local"),{identifier:t.email,password:t.password});case 3:return c=e.sent,e.abrupt("return",c);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(O,"/users/me"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uri"))}});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),v=c.p+"static/media/edu.7bf55f5f.jpg",g=c(0),y=function(){var e=Object(l.g)(),t=Object(s.useState)(!1),c=Object(b.a)(t,2),n=c[0],r=c[1],a=Object(s.useState)({email:"",password:""}),o=Object(b.a)(a,2),d=o[0],p=o[1],x=function(){var t=Object(j.a)(u.a.mark((function t(c){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),t.prev=1,c.preventDefault(),t.next=5,m(d);case 5:s=t.sent,sessionStorage.setItem("auth",!0),sessionStorage.setItem("uri",s.data.jwt),e.replace("/dashboard"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),h.b.error(t.t0.message),r(!1);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{class:"container vh-100",children:Object(g.jsx)("div",{class:"row align-items-center justify-content-center vh-100",children:Object(g.jsx)("div",{class:"col-md-9 col-lg-12 col-xl-10",children:Object(g.jsx)("div",{class:"card shadow-lg o-hidden border-0 my-5",children:Object(g.jsx)("div",{class:"card-body p-0",children:Object(g.jsxs)("div",{class:"row",children:[Object(g.jsx)("div",{class:"col-lg-6 d-none d-lg-flex",children:Object(g.jsx)("div",{class:"flex-grow-1 bg-login-image",style:{backgroundImage:"url(".concat(v,")"),backgroundSize:"cover"}})}),Object(g.jsx)("div",{class:"col-lg-6",children:Object(g.jsxs)("div",{class:"p-5",children:[Object(g.jsx)("div",{class:"text-center",children:Object(g.jsx)("h4",{class:"text-dark mb-4",children:"Welcome Back!"})}),Object(g.jsxs)("form",{class:"user",onSubmit:x,children:[Object(g.jsx)("div",{class:"form-group",children:Object(g.jsx)("input",{type:"email",onChange:function(e){return p(Object(i.a)(Object(i.a)({},d),{},{email:e.target.value}))},class:"form-control form-control-user",placeholder:"Enter Email Address...",required:!0})}),Object(g.jsx)("div",{class:"form-group",children:Object(g.jsx)("input",{type:"password",onChange:function(e){return p(Object(i.a)(Object(i.a)({},d),{},{password:e.target.value}))},class:"form-control form-control-user",placeholder:"Password",required:!0})}),Object(g.jsx)("button",{class:"btn btn-primary w-100",type:"submit",disabled:n,children:n?Object(g.jsx)("span",{class:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"}):"Login"}),Object(g.jsx)("hr",{})]}),Object(g.jsx)("div",{class:"text-center",children:Object(g.jsx)("a",{class:"small",href:"forgot-password.html",children:"Forgot Password?"})}),Object(g.jsx)("div",{class:"text-center",children:Object(g.jsx)("a",{class:"small",href:"register.html",children:"Create an Account!"})})]})})]})})})})})})},w=Object(s.createContext)(),C=function(e){var t=Object(s.useState)(!1),c=Object(b.a)(t,2),n=c[0],r=c[1];return Object(g.jsx)(w.Provider,{value:{refreshData:n,set_refreshData:function(e){r(e)}},children:e.children})},S="http://localhost:8000",k=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(S,"/courses"),t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uri"))}});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(S,"/courses"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uri"))}});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(u.a.mark((function e(t,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.put("".concat(S,"/courses/").concat(c),t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uri"))}});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,c){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(S,"/course-selections?student=").concat(t),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uri"))}});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(u.a.mark((function e(t,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,c),e.prev=1,e.next=4,x.a.post("".concat(S,"/course-selections"),{student:c,course:t},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uri"))}});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,c){return e.apply(this,arguments)}}(),I=function(e){window.$("#".concat(e)).modal("hide")},M=new Intl.NumberFormat("en-US",{style:"currency",currency:"GHC"}),B=function(){var e=Object(s.useContext)(w),t=e.refreshData,c=e.set_refreshData,n=Object(s.useState)({title:"",description:"",fee:0}),r=Object(b.a)(n,2),a=r[0],o=r[1],l=function(){var e=Object(j.a)(u.a.mark((function e(s){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,I("courseModal"),e.next=5,k(a);case 5:c(!t),h.b.success("".concat(a.title," added successfully")),o({title:"",description:"",fee:0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),h.b.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{class:"modal fade",role:"dialog",tabIndex:"-1",id:"courseModal",children:Object(g.jsx)("div",{class:"modal-dialog",role:"document",children:Object(g.jsxs)("div",{class:"modal-content",children:[Object(g.jsxs)("div",{class:"modal-header",children:[Object(g.jsx)("h4",{class:"modal-title",children:"Add Course"}),Object(g.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(g.jsx)("div",{class:"modal-body",children:Object(g.jsxs)("form",{onSubmit:l,children:[Object(g.jsxs)("div",{class:"form-group",children:[Object(g.jsx)("label",{children:"Course Title"}),Object(g.jsx)("input",{class:"form-control form-control-sm",type:"text",value:a.title,onChange:function(e){return o(Object(i.a)(Object(i.a)({},a),{},{title:e.target.value}))}})]}),Object(g.jsxs)("div",{class:"form-group",children:[Object(g.jsx)("label",{children:"Fee (GHc)"}),Object(g.jsx)("input",{class:"form-control form-control-sm",type:"number",value:a.fee,onChange:function(e){return o(Object(i.a)(Object(i.a)({},a),{},{fee:e.target.value}))}})]}),Object(g.jsxs)("div",{class:"form-group",children:[Object(g.jsx)("label",{children:"Description"}),Object(g.jsx)("textarea",{class:"form-control",value:a.description,onChange:function(e){return o(Object(i.a)(Object(i.a)({},a),{},{description:e.target.value}))}})]}),Object(g.jsxs)("div",{class:"modal-footer",children:[Object(g.jsx)("button",{class:"btn btn-sm btn-light",type:"button","data-dismiss":"modal",children:"Close"}),Object(g.jsx)("button",{class:"btn btn-sm btn-primary",type:"submit",children:"Add Course"})]})]})})]})})})},z=c.p+"static/media/profile.5faf09a7.png",F=function(){var e=Object(l.g)(),t=Object(s.useContext)(w).refreshData,c=Object(s.useState)(""),n=Object(b.a)(c,2),r=n[0],a=n[1],o=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:t=e.sent,a(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Cannot get User");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){o()}),[t]),Object(g.jsx)("nav",{class:"navbar navbar-light navbar-expand bg-white shadow-sm mb-4 topbar static-top",children:Object(g.jsxs)("div",{class:"container-fluid",children:[Object(g.jsx)("button",{class:"btn btn-link d-md-none rounded-circle mr-3",id:"sidebarToggleTop",type:"button",children:Object(g.jsx)("i",{class:"fas fa-bars"})}),Object(g.jsx)("form",{class:"form-inline d-none d-sm-inline-block mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search",children:Object(g.jsxs)("div",{class:"input-group",children:[Object(g.jsx)("input",{class:"bg-light form-control border-0 small",type:"text",placeholder:"Search for ..."}),Object(g.jsx)("div",{class:"input-group-append",children:Object(g.jsx)("button",{class:"btn btn-primary py-0",type:"button",children:Object(g.jsx)("i",{class:"fas fa-search"})})})]})}),Object(g.jsx)("ul",{class:"navbar-nav flex-nowrap ml-auto",children:Object(g.jsx)("li",{class:"nav-item dropdown no-arrow",children:Object(g.jsxs)("div",{class:"nav-item dropdown no-arrow",children:[Object(g.jsxs)("a",{class:"dropdown-toggle nav-link","aria-expanded":"false","data-toggle":"dropdown",href:"#",children:[Object(g.jsx)("span",{class:"d-none d-lg-inline mr-2 text-gray-600 small",children:r.email}),Object(g.jsx)("img",{class:"border rounded-circle img-profile",width:"30",src:z})]}),Object(g.jsxs)("div",{class:"dropdown-menu shadow dropdown-menu-right animated--grow-in",children:[Object(g.jsxs)("a",{class:"dropdown-item",href:"#",children:[Object(g.jsx)("i",{class:"fas fa-user fa-sm fa-fw mr-2 text-gray-400"}),"\xa0Profile"]}),Object(g.jsxs)("a",{class:"dropdown-item",href:"#",children:[Object(g.jsx)("i",{class:"fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"}),"\xa0Settings"]}),Object(g.jsxs)("a",{class:"dropdown-item",href:"#",children:[Object(g.jsx)("i",{class:"fas fa-list fa-sm fa-fw mr-2 text-gray-400"}),"\xa0Activity log"]}),Object(g.jsx)("div",{class:"dropdown-divider"}),Object(g.jsxs)("p",{class:"dropdown-item",role:"button",onClick:function(t){return sessionStorage.clear(),void e.replace("/")},children:[Object(g.jsx)("i",{class:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"\xa0Logout"]})]})]})})})]})})},P=function(){var e=Object(l.h)();return Object(g.jsx)("div",{class:"container",children:Object(g.jsx)("div",{class:"row mb-3",children:Object(g.jsx)("div",{class:"col d-flex justify-content-end",children:Object(g.jsxs)("div",{role:"group",children:["/dashboard"!==e.pathname&&Object(g.jsx)(o.b,{to:"/dashboard",children:Object(g.jsxs)("button",{class:"btn btn-outline-primary btn-sm mr-1",type:"button",children:["Home",Object(g.jsx)("i",{class:"fas fa-home pl-2"})]})}),"/courses"!==e.pathname&&Object(g.jsx)(o.b,{to:"/courses",children:Object(g.jsxs)("button",{class:"btn btn-outline-primary btn-sm mr-1",type:"button",children:["View All Courses",Object(g.jsx)("i",{class:"fas fa-eye pl-2"})]})})]})})})})},N="http://localhost:8000",T=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(N,"/students"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uri"))}});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(N,"/students"),t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uri"))}});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.useContext)(w),t=e.refreshData,c=e.set_refreshData,n=Object(s.useState)({firstname:"",lastname:"",other_names:"",phone:"",gender:""}),r=Object(b.a)(n,2),a=r[0],o=r[1],l=function(){var e=Object(j.a)(u.a.mark((function e(s){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,I("studentModal"),e.next=5,G(a);case 5:c(!t),h.b.success("".concat(a.firstname," ").concat(a.other_names," ").concat(a.lastname," added successfully")),o({firstname:"",lastname:"",other_names:"",phone:"",gender:""}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),h.b.error(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{class:"modal fade",role:"dialog",tabindex:"-1",id:"studentModal",children:Object(g.jsx)("div",{class:"modal-dialog",role:"document",children:Object(g.jsxs)("div",{class:"modal-content",children:[Object(g.jsxs)("div",{class:"modal-header",children:[Object(g.jsx)("h4",{class:"modal-title",children:"Enroll Student"}),Object(g.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(g.jsx)("div",{class:"modal-body",children:Object(g.jsxs)("form",{onSubmit:l,children:[Object(g.jsxs)("div",{class:"form-group",children:[Object(g.jsx)("label",{children:"Firstname"}),Object(g.jsx)("input",{class:"form-control form-control-sm",type:"text",value:a.firstname,onChange:function(e){return o(Object(i.a)(Object(i.a)({},a),{},{firstname:e.target.value}))}})]}),Object(g.jsxs)("div",{class:"form-group",children:[Object(g.jsx)("label",{children:"Lastname"}),Object(g.jsx)("input",{class:"form-control form-control-sm",type:"text",value:a.lastname,onChange:function(e){return o(Object(i.a)(Object(i.a)({},a),{},{lastname:e.target.value}))}})]}),Object(g.jsxs)("div",{class:"form-group",children:[Object(g.jsx)("label",{children:"Other Names"}),Object(g.jsx)("input",{class:"form-control form-control-sm",type:"text",value:a.other_names,onChange:function(e){return o(Object(i.a)(Object(i.a)({},a),{},{other_names:e.target.value}))}})]}),Object(g.jsxs)("div",{class:"form-group",children:[Object(g.jsx)("label",{children:"Gender"}),Object(g.jsxs)("select",{class:"form-control",required:!0,value:a.gender,onChange:function(e){return o(Object(i.a)(Object(i.a)({},a),{},{gender:e.target.value}))},children:[Object(g.jsx)("option",{children:"Gender"}),Object(g.jsx)("option",{value:"male",children:"Male"}),Object(g.jsx)("option",{value:"female",children:"Female"})]})]}),Object(g.jsxs)("div",{class:"form-group",children:[Object(g.jsx)("label",{children:"Phone"}),Object(g.jsx)("input",{class:"form-control form-control-sm",type:"tel",value:a.phone,onChange:function(e){return o(Object(i.a)(Object(i.a)({},a),{},{phone:e.target.value}))}})]}),Object(g.jsxs)("div",{class:"modal-footer",children:[Object(g.jsx)("button",{class:"btn btn-sm btn-light",type:"button","data-dismiss":"modal",children:"Close"}),Object(g.jsx)("button",{class:"btn btn-sm btn-primary",type:"submit",children:"Enroll Student"})]})]})})]})})})},q=Object(s.createContext)(),H=function(e){var t=Object(s.useState)({}),c=Object(b.a)(t,2),n=c[0],r=c[1],a=Object(s.useState)({}),o=Object(b.a)(a,2),l=o[0],i=o[1];return Object(g.jsx)(q.Provider,{value:{currentCourse:n,transactionDetail:l,set_detail:function(e,t){i({student:e,course:t})},set_currentCourse:function(e){r(e)}},children:e.children})},U=function(){var e=Object(s.useContext)(w),t=e.refreshData,c=e.set_refreshData,n=Object(s.useContext)(q).currentCourse,r=Object(s.useState)({course_id:"",title:"",description:"",fee:0}),a=Object(b.a)(r,2),o=a[0],l=a[1],d=function(){var e=Object(j.a)(u.a.mark((function e(s){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,I("editCourseModal"),e.next=5,A(o,n.id);case 5:c(!t),h.b.success("Update successful"),l({title:"",description:"",fee:0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),h.b.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{class:"modal fade",role:"dialog",tabIndex:"-1",id:"editCourseModal",children:Object(g.jsx)("div",{class:"modal-dialog",role:"document",children:Object(g.jsxs)("div",{class:"modal-content",children:[Object(g.jsxs)("div",{class:"modal-header",children:[Object(g.jsx)("h4",{class:"modal-title",children:"Edit Course"}),Object(g.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(g.jsx)("div",{class:"modal-body",children:Object(g.jsxs)("form",{onSubmit:d,children:[Object(g.jsxs)("div",{class:"form-group",children:[Object(g.jsx)("label",{children:"Course Title"}),Object(g.jsx)("input",{class:"form-control form-control-sm",type:"text",defaultValue:n.title,onChange:function(e){return l(Object(i.a)(Object(i.a)({},o),{},{title:e.target.value}))}})]}),Object(g.jsxs)("div",{class:"form-group",children:[Object(g.jsx)("label",{children:"Fee (GHc)"}),Object(g.jsx)("input",{class:"form-control form-control-sm",type:"number",defaultValue:n.fee,onChange:function(e){return l(Object(i.a)(Object(i.a)({},o),{},{fee:e.target.value}))}})]}),Object(g.jsxs)("div",{class:"form-group",children:[Object(g.jsx)("label",{children:"Description"}),Object(g.jsx)("textarea",{class:"form-control",defaultValue:n.description,onChange:function(e){return l(Object(i.a)(Object(i.a)({},o),{},{description:e.target.value}))}})]}),Object(g.jsxs)("div",{class:"modal-footer",children:[Object(g.jsx)("button",{class:"btn btn-sm btn-light",type:"button","data-dismiss":"modal",children:"Close"}),Object(g.jsx)("button",{class:"btn btn-sm btn-primary",type:"submit",children:"Update Course"})]})]})})]})})})},V=function(){var e=Object(s.useContext)(w),t=e.refreshData,c=e.set_refreshData,n=Object(s.useContext)(q).currentCourse,r=Object(s.useState)(!1),a=Object(b.a)(r,2),o=a[0],l=a[1],i=Object(s.useState)([]),d=Object(b.a)(i,2),p=d[0],x=d[1],O=Object(s.useState)(""),m=Object(b.a)(O,2),f=m[0],v=m[1],y=function(){var e=Object(j.a)(u.a.mark((function e(s){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,I("studentCourseModal"),e.next=5,E(n.id,f);case 5:c(!t),h.b.success("Student Enrolled successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),h.b.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,T();case 4:t=e.sent,x(t.data),l(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),l(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){C()}),[t]),Object(g.jsx)("div",{class:"modal fade",role:"dialog",tabIndex:"-1",id:"studentCourseModal",children:Object(g.jsx)("div",{class:"modal-dialog",role:"document",children:Object(g.jsxs)("div",{class:"modal-content",children:[Object(g.jsxs)("div",{class:"modal-header",children:[Object(g.jsxs)("h4",{class:"modal-title",children:["Enroll Student to ",n.title," "]}),Object(g.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(g.jsxs)("div",{class:"modal-body",children:[o&&Object(g.jsx)("p",{children:"...loading"}),Object(g.jsxs)("form",{onSubmit:y,children:[Object(g.jsx)("div",{class:"form-group",children:Object(g.jsxs)("select",{onChange:function(e){return v(e.target.value)},class:"form-control",children:[Object(g.jsx)("option",{children:"Select Student to Enroll"}),p&&p.map((function(e){return Object(g.jsx)("option",{value:e.id,children:"".concat(e.firstname," ").concat(e.other_names," ").concat(e.lastname)},e.id)}))]})}),Object(g.jsxs)("div",{class:"modal-footer",children:[Object(g.jsx)("button",{class:"btn btn-sm btn-light",type:"button","data-dismiss":"modal",children:"Close"}),Object(g.jsx)("button",{class:"btn btn-sm btn-primary",type:"submit",children:"Enroll Student"})]})]})]})]})})})},J="https://acfcb.herokuapp.com",R=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(J,"/accounts/").concat(t),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uri"))}});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(j.a)(u.a.mark((function e(t,c,s){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(J,"/transactions"),{account:t,amt_paid:parseInt(c),course:s},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uri"))}});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,c,s){return e.apply(this,arguments)}}(),$=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(J,"/transactions?account=").concat(t),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("uri"))}});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(s.useContext)(w),t=e.refreshData,c=e.set_refreshData,n=Object(s.useContext)(q).transactionDetail,r=Object(s.useState)(0),a=Object(b.a)(r,2),o=a[0],l=a[1],i=function(){var e=Object(j.a)(u.a.mark((function e(s){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,I("paymentModal"),e.next=5,W(n.student.account,o,n.course);case 5:r=e.sent,console.log(r),c(!t),h.b.success("Fees paid successfully"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),h.b.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{class:"modal fade",role:"dialog",tabIndex:"-1",id:"paymentModal",children:Object(g.jsx)("div",{class:"modal-dialog",role:"document",children:Object(g.jsxs)("div",{class:"modal-content",children:[Object(g.jsxs)("div",{class:"modal-header",children:[Object(g.jsx)("h4",{class:"modal-title",children:"Payment "}),Object(g.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(g.jsx)("div",{class:"modal-body",children:Object(g.jsxs)("form",{onSubmit:i,children:[Object(g.jsx)("div",{class:"form-group",children:Object(g.jsx)("input",{type:"number",class:"form-control",placeholder:"Amount paying",onChange:function(e){return l(e.target.value)},required:!0})}),Object(g.jsxs)("div",{class:"modal-footer",children:[Object(g.jsx)("button",{class:"btn btn-sm btn-light",type:"button","data-dismiss":"modal",children:"Close"}),Object(g.jsx)("button",{class:"btn btn-sm btn-primary",type:"submit",children:"Enroll Student"})]})]})})]})})})},Q=function(e){return Object(g.jsxs)("div",{id:"wrapper",children:[Object(g.jsx)("div",{class:"d-flex flex-column",id:"content-wrapper",children:Object(g.jsxs)("div",{id:"content",style:{background:"white"},children:[Object(g.jsx)(F,{}),Object(g.jsx)(P,{}),Object(g.jsx)("div",{class:"container",children:Object(g.jsx)("div",{class:"row",children:Object(g.jsx)("div",{class:"col",children:Object(g.jsxs)("div",{class:"card shadow mb-5",children:[Object(g.jsx)("div",{class:"card-header py-3",children:Object(g.jsxs)("div",{class:"row justify-content-between mx-5",children:[Object(g.jsx)("p",{class:"text-primary m-0 font-weight-bold",children:e.title}),e.button]})}),Object(g.jsx)("div",{class:"card-body",children:e.children})]})})})})]})}),Object(g.jsx)(B,{}),Object(g.jsx)(L,{}),Object(g.jsx)(U,{}),Object(g.jsx)(V,{}),Object(g.jsx)(K,{})]})},X=function(){var e=Object(s.useContext)(w).refreshData,t=Object(s.useState)([]),c=Object(b.a)(t,2),n=c[0],r=c[1],a=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T();case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.b.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){a()}),[e]),Object(g.jsx)(Q,{title:"Students",button:Object(g.jsxs)("button",{class:"btn btn-outline-primary btn-sm mr-1",type:"button","data-toggle":"modal","data-target":"#studentModal",children:["Enroll Student",Object(g.jsx)("i",{class:"fas fa-user-plus pl-2"})]}),children:Object(g.jsx)("div",{class:"table-responsive table mt-2",id:"dataTable",role:"grid","aria-describedby":"dataTable_info",children:Object(g.jsxs)("table",{class:"table my-0",id:"dataTable",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Firstname"}),Object(g.jsx)("th",{children:"Other Names"}),Object(g.jsx)("th",{children:"Lastname"}),Object(g.jsx)("th",{children:"Gender"}),Object(g.jsx)("th",{children:"Phone"}),Object(g.jsx)("th",{children:"Account"})]})}),Object(g.jsx)("tbody",{children:n.length?n.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsxs)("td",{children:[Object(g.jsx)("img",{class:"rounded-circle mr-2",width:"30",height:"30",src:z}),e.firstname]}),Object(g.jsx)("td",{children:e.other_names}),Object(g.jsx)("td",{children:e.lastname}),Object(g.jsx)("td",{children:e.gender}),Object(g.jsx)("td",{children:e.phone}),Object(g.jsx)("td",{children:Object(g.jsx)(o.b,{to:"/account/".concat(e.account.id),children:Object(g.jsx)("button",{class:"btn btn-outline-primary btn-sm",type:"button",children:"Account Details"})})})]},e.id)})):Object(g.jsx)("tr",{children:Object(g.jsx)("td",{colSpan:"6",children:Object(g.jsx)("p",{class:"lead text-center mt-5",children:"Enroll a Student to view their details"})})})}),Object(g.jsx)("tfoot",{children:Object(g.jsx)("tr",{})})]})})})},Y=function(){var e,t,c,n=Object(l.i)().id,r=Object(s.useContext)(w).refreshData,a=Object(s.useContext)(q).set_detail,o=Object(s.useState)({}),i=Object(b.a)(o,2),d=i[0],p=i[1],x=Object(s.useState)([]),O=Object(b.a)(x,2),m=O[0],f=O[1],v=Object(s.useState)([]),y=Object(b.a)(v,2),C=y[0],S=y[1],k=Object(s.useState)(!1),D=Object(b.a)(k,2),A=D[0],E=D[1],I=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,R(n);case 4:t=e.sent,p(t.data),B(t.data.student.id),z(t.data.id),E(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),E(!1),h.b.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(j.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(t);case 3:c=e.sent,f(c.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(j.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$(t);case 3:c=e.sent,console.log(c.data),S(c.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h.b.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){I()}),[r]),Object(g.jsxs)(Q,{title:"Account Details",children:[Object(g.jsxs)("div",{class:"container",children:[Object(g.jsx)("div",{class:"row justify-content-between mx-5",children:A?Object(g.jsx)("p",{class:"text-center",children:"...Loading"}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("p",{class:"text-uppercase text-secondary",children:["Account Name:",Object(g.jsx)("span",{class:"text-dark",children:"".concat(null===(e=d.student)||void 0===e?void 0:e.firstname," ").concat(null===(t=d.student)||void 0===t?void 0:t.other_names," ").concat(null===(c=d.student)||void 0===c?void 0:c.lastname)})]}),Object(g.jsxs)("p",{class:"text-uppercase text-secondary",children:["Amount Due: ",Object(g.jsx)("span",{class:"text-dark",children:M.format(d.amt_due)})]})]})}),Object(g.jsx)("hr",{class:"w-100"})]}),Object(g.jsx)("div",{class:"mx-5",children:Object(g.jsx)("p",{class:"lead",children:"Enrolled Courses"})}),Object(g.jsxs)("table",{class:"table mb-5",children:[Object(g.jsx)("thead",{class:"thead-light",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{style:{width:"5%"},children:"#"}),Object(g.jsx)("th",{scope:"col-3",children:"Date Enrolled"}),Object(g.jsx)("th",{style:{width:"25%"},children:"Course"}),Object(g.jsx)("th",{style:{width:"25%"},children:"Fee"}),Object(g.jsx)("th",{children:"Action"})]})}),Object(g.jsx)("tbody",{children:m.length?m.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"row",children:t+1}),Object(g.jsx)("td",{children:e.created_at}),Object(g.jsx)("td",{children:e.course.title}),Object(g.jsx)("td",{children:M.format(e.course.fee)}),Object(g.jsx)("td",{children:Object(g.jsxs)("div",{class:"row",children:[Object(g.jsxs)("button",{class:"btn btn-primary btn-sm mr-1",type:"button","data-toggle":"modal","data-target":"#paymentModal",onClick:function(){return function(e,t){a(e,t)}(d.student,e.course.id)},children:["Make Payment",Object(g.jsx)("i",{class:"fas fa-money-bill-wave-alt pl-2"})]}),Object(g.jsx)("button",{class:"btn btn-danger btn-sm",children:Object(g.jsx)("i",{class:"fa fa-trash"})})]})})]},e.id)})):Object(g.jsx)("td",{colSpan:4,children:Object(g.jsx)("p",{class:"text-center lead",children:"Student Not enrolled in any course"})})})]}),Object(g.jsx)("hr",{class:"w-100 mb-5"}),Object(g.jsx)("div",{class:"mx-5",children:Object(g.jsx)("p",{class:"lead",children:"Transactions"})}),Object(g.jsxs)("table",{class:"table",children:[Object(g.jsx)("thead",{class:"thead-dark",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{style:{width:"5%"},children:"#"}),Object(g.jsx)("th",{scope:"col-3",children:"Date"}),Object(g.jsx)("th",{children:"Course"}),Object(g.jsx)("th",{style:{width:"20%"},children:"Amount Paid"}),Object(g.jsx)("th",{class:"text-center",children:"Action"})]})}),Object(g.jsx)("tbody",{children:C.length?C.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"row",children:t+1}),Object(g.jsx)("td",{children:e.created_at}),Object(g.jsx)("td",{children:e.course.title}),Object(g.jsx)("td",{children:e.amt_paid}),Object(g.jsx)("td",{class:"row justify-content-center",children:Object(g.jsxs)("button",{class:"btn btn-sm btn-success",children:[Object(g.jsx)("i",{class:"fas fa-download"})," Generate Receipt"]})})]},t)})):Object(g.jsx)("td",{colSpan:5,children:Object(g.jsx)("p",{class:"lead text-center mt-4",children:"No transactions made on Account"})})})]}),Object(g.jsx)("div",{class:"card-footer",children:Object(g.jsxs)("div",{class:"row justify-content-end",children:[Object(g.jsxs)("button",{class:"btn btn-outline-primary btn-sm mr-1",type:"button","data-toggle":"modal","data-target":"#",children:["Edit Student",Object(g.jsx)("i",{class:"fas fa-edit pl-2"})]}),Object(g.jsxs)("button",{class:"btn btn-danger btn-sm mr-1",type:"button","data-toggle":"modal","data-target":"#",children:["Delete Student",Object(g.jsx)("i",{class:"fas fa-trash pl-2"})]})]})})]})},Z=c(67),ee=function(e){var t=e.component,c=Object(Z.a)(e,["component"]);return Object(g.jsx)(l.b,Object(i.a)(Object(i.a)({},c),{},{render:function(e){return!0===JSON.parse(sessionStorage.getItem("auth"))?Object(g.jsx)(t,Object(i.a)({},e)):Object(g.jsx)(l.a,{to:"/"})}}))},te=c(27),ce=c.p+"static/media/course.75e731a6.jpg",se=function(){var e=Object(s.useContext)(w).refreshData,t=Object(s.useState)([]),c=Object(b.a)(t,2),n=c[0],r=c[1],a=Object(s.useContext)(q).set_currentCourse,o=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D();case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.b.error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(e){a(e)};return Object(s.useEffect)((function(){o()}),[e]),Object(g.jsx)(Q,{title:"Courses",button:Object(g.jsxs)("button",{class:"btn btn-outline-primary btn-sm mr-1",type:"button","data-toggle":"modal","data-target":"#courseModal",children:["Add Course",Object(g.jsx)("i",{class:"fas fa-book-medical pl-2"})]}),children:Object(g.jsx)("div",{class:"container",children:Object(g.jsx)("div",{class:"row",children:n.length?n.map((function(e){var t,c;return Object(g.jsx)("div",{class:"col col-12 col-md-6 col-lg-3 mb-2",children:Object(g.jsxs)("div",{class:"card h-100",children:[Object(g.jsx)("img",{src:ce,class:"card-img-top",alt:"..."}),Object(g.jsxs)("div",{class:"card-body",children:[Object(g.jsx)("h5",{class:"card-title text-uppercase h6",children:e.title}),Object(g.jsx)("p",{class:"card-text text-secondary",children:e.description}),Object(g.jsxs)("p",{children:["Fee: ",Object(g.jsx)("span",{class:"lead text-secondary",children:M.format(e.fee)})]})]}),Object(g.jsx)("div",{class:"card-footer",children:Object(g.jsxs)("div",{class:"row justify-content-center",children:[Object(g.jsx)("button",(t={role:"button",class:"btn btn-sm btn-primary","data-toggle":"tooltip","data-placement":"bottom",title:"Edit Course",onClick:function(){return l(e)}},Object(te.a)(t,"data-toggle","modal"),Object(te.a)(t,"data-target","#editCourseModal"),Object(te.a)(t,"children",Object(g.jsx)("i",{role:"button",class:"fas fa-edit"})),t)),Object(g.jsx)("button",{role:"button",class:"btn btn-sm btn-info ml-1","data-toggle":"tooltip","data-placement":"bottom",title:"Course details",children:Object(g.jsx)("i",{role:"button",class:"fas fa-eye"})}),Object(g.jsx)("button",(c={role:"button",class:"btn btn-sm btn-warning ml-1","data-toggle":"tooltip","data-placement":"bottom",title:"Add Student to Course"},Object(te.a)(c,"data-toggle","modal"),Object(te.a)(c,"data-target","#studentCourseModal"),Object(te.a)(c,"onClick",(function(){return l(e)})),Object(te.a)(c,"children",Object(g.jsx)("i",{role:"button",class:"fas fa-plus"})),c)),Object(g.jsx)("button",{role:"button",class:"btn btn-sm btn-danger ml-1","data-toggle":"tooltip","data-placement":"bottom",title:"Delete Course",children:Object(g.jsx)("i",{role:"button",class:"fas fa-trash"})})]})})]})},e.id)})):Object(g.jsx)("p",{class:"lead text-center",children:"No Courses"})})})})},ne=function(){return Object(g.jsx)(o.a,{children:Object(g.jsxs)(l.d,{children:[Object(g.jsx)(l.b,{path:"/",component:y,exact:!0}),Object(g.jsx)(ee,{path:"/account/:id",component:Y}),Object(g.jsx)(ee,{path:"/courses",component:se}),Object(g.jsx)(ee,{path:"/dashboard",component:X})]})})};c(95),c(96),c(97);a.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(C,{children:Object(g.jsx)(H,{children:Object(g.jsx)(ne,{})})})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.5c84112d.chunk.js.map